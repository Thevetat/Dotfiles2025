# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## IMPORTANT: Build and Dev Server Policy

**NEVER run `npm run build`, `npm run dev`, `bun build`, `bun dev`, or any development server commands directly.**

Instead, always ask the user to run these commands themselves. You can:

- Run `tsc --noEmit` or `npx tsc --noEmit` for TypeScript type checking
- Run linting commands like `npm run lint` or `bun lint`
- But for builds and dev servers, inform the user what command they should run

## Preferred Commands

Use rg instead of grep for searching files. It is faster and more reliable with more options.

**For commits**: Use `oco --yes`. If you ever need to do a manual commit, do not write Generated by Claude Code or anything like that in the message.

When asked to commit, always commit all files and push, unless explicitly asked to commit only a specific file or not push.

## Code Style and Best Practices

- Use kebab-case for files and directories
- Use PascalCase for components and types
- Always prefer `function` over `const` for functions
- Use `Array<T>` over `T[]` for arrays
- Reuse and compose components when possible
- All data fetching happens in views, not components
- **Views should only contain top-level components**: Break down complex UI into smaller components (filters, tables, forms, etc.) and import them into views rather than defining inline JSX
- **Component naming convention**: All components within a model must be prefixed with the model name (e.g., `user-scheduled-hunts-table.tsx`, `user-scheduled-hunts-adventure-booking-cta.tsx`). Exception: components in `app/components/` don't need prefixes

- **Commenting Code**:
  - Use minimal comments, the code should be self commenting
  - Focus on why rather than what - explain intentions and edge cases
  - Keep comments concise but informative
  - Update comments when code changes
  - Add comments for complex algorithms or business logic

## File Length

- We must keep files under 300 lines of code.
- Files must be modular and single purpose.

## Reading Files

- Always read the file in full, do not be lazy.
- Before making any code changes, start by finding and reading all of the file.
- Never make changes without reading the entire file.

## Ego

- Do not make assumptions.
- Do not jump to conclusions.
- Do not just say "You are absolutely right."
- It is okay to be wrong and not know stuff. When you are unsure, express this to the user and ask for clarification or help.
- Always consider multiple approaches, like a senior engineer would.

## Dotfiles Management

This system uses a bare git repository for dotfiles management. Key commands:

- `dotfiles` - Git alias for managing dotfiles (equivalent to `git --git-dir=$HOME/.dotfiles/ --work-tree=$HOME`)
- `dotfiles status` - Check status of tracked dotfiles
- `dotfiles add <file>` - Stage dotfiles for commit
- `dotfiles commit -m "message"` - Commit dotfiles changes
- `dotfiles push` - Push to remote repository
- `dfs` - Alias for `dotfiles status`
- `dfca` - Function for adding, committing, and pushing dotfiles in one command

The dotfiles repository tracks configuration files like:

- `.zshrc`, `.zsh_functions`, `.aliases` - Shell configuration
- `.config/` - Application configurations
- Other dotfiles in the home directory

When making changes to shell configurations or dotfiles, always commit them using the dotfiles commands.

#
# Defines environment variables.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Ensure that a non-login, non-interactive shell has a defined environment.
if [[ ( "$SHLVL" -eq 1 && ! -o LOGIN ) && -s "${ZDOTDIR:-$HOME}/.zprofile" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprofile"
fi
# NVM is now lazy-loaded in .zshrc - see ~/.config/zsh/scripts/nvm-lazy-load.zsh
export NVM_DIR="$HOME/.nvm"
if [ -s "$NVM_DIR/alias/default" ]; then
  nvm_default="$(cat "$NVM_DIR/alias/default")"
  if [ -s "$NVM_DIR/alias/$nvm_default" ]; then
    nvm_default="$(cat "$NVM_DIR/alias/$nvm_default")"
  fi
  case "$nvm_default" in
    v*) ;;
    *) nvm_default="v${nvm_default}" ;;
  esac
  if [ -d "$NVM_DIR/versions/node/$nvm_default/bin" ]; then
    export PATH="$NVM_DIR/versions/node/$nvm_default/bin:$PATH"
  fi
fi

# Load Cargo environment
[ -f "$HOME/.cargo/env" ] && source "$HOME/.cargo/env"

# Load Go
export PATH="/usr/local/go/bin:$PATH"

# rbenv is now lazy-loaded in .zshrc - see ~/.config/zsh/scripts/rbenv-lazy-load.zsh
export PATH="$HOME/.rbenv/bin:$PATH"


# Load aliases for non-interactive sessions
[ -f ~/.aliases ] && source ~/.aliases

# Load environment variables
[ -f ~/.env ] && source ~/.env

